# 开发指南

## 依赖

1. 安装开发环境
   - 安装 Python 3.11
   - 安装 Node.js

2. 安装前端依赖
   ```cmd
   # 全局安装 yarn 包管理器
   npm install -g yarn
   
   # 进入前端目录并安装项目依赖
   cd front
   yarn install
   ```

3. 安装后端依赖
   ```cmd
   # 安装python所需依赖
   cd backend
   pip install -r requirements.txt
   ```

## quick start

### 前端

运行以下命令，编译前端文件，然后使用微信小程序打开前端front目录。
```cmd
cd front
yarn dev:app
```
### 后端

windows中执行以下命令。
```cmd
cd backend
./start.bat
```

## pr流程

### 更新代码到自己的分支

1. 切换到自己的develop分支
```bash
git chceckout -b xxx_dev
```
2. 拉取最新代码
```bash
git fetch
```
3. 将main分支合并到自己的develop分支
```bash
git merge origin/main
```

### 提交代码到main分支

1. 切换到自己的develop分支
```bash
git chceckout -b xxx_dev
```
2. 提交代码
```bash
git add .
git commit -m "xxx"
git push origin xxx_dev
```
3. 打开github 提交PR

4. 合并PR

# 需求文档

## 页面原型

## 电子联单说明

用户填写并提交订单 ，然后订单中的地址会关联到小区，又因为物业会管理一堆小区，所以可以找到与该物业相关的订单，然后每个物业拥有一个物业主管理员，和一些非主管理员，这些管理员可以看到与该物业相关的订单，但是非主管理员只能看到与自身相关的小区的订单，管理员需要做的就是对订单进行离场确认，此时会将该管理员的信息和确认时间更新到订单中， 之后就是运输端按照规范运输... 处置端完成回收确认...


## 后端角色

### 用户下单端
任何用户均可以在线注册和下单，权限一致，该端只有手机小程序。

#### 普通用户-小程序端

1. 地址管理
   - [ ] 地址信息增删改
   - [ ] 选择默认

2. 下单清运
   - [ ] 地址选择，自动选择默认地址
      - [ ] 地图选点
      - [ ] 小区自动匹配(无法匹配则显示无小区)/手动选择
   - [ ] 清运表格
   - [ ] 费用清算
   - [ ] 在线支付

3. 装修报备
   - [ ] 地址选择，自动选择默认地址
      - [ ] 地图选点
      - [ ] 小区自动匹配(无法匹配则显示无小区)/手动选择
   - [ ] 报备表格

### 物业管理端
每个物业分配一个该物业的最高管理员，可以增删改查当前物业的普通管理员信息，普通管理员可以

#### 物业管理端最高管理员-电脑端 -> 区分不同物业公司

1. 对其所管理的小区增删改查

2. 对其所管理的人员增删改查

3. 当前物业的装修报备情况

#### 物业管理端管理员-小程序端

1. 当前物业的装修报备情况

2. 查看对当前物业的运输清单，确认司机离开

### 运输管理端

#### 运输管理端最高管理员-电脑端 -> 区分不同运输公司

#### 运输管理端调度员-小程序

#### 运输管理端司机-小程序

### 处置回收端

#### 功能需求

## 模型
=======
4. 合并PR，